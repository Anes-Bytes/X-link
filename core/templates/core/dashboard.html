<!DOCTYPE html>
{% load static %}
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>ุฏุงุดุจูุฑุฏ ฺฉุงุฑุจุฑ - X-Link</title>
    <link rel="stylesheet" href="{% static 'dashboard-themed.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        [dir="rtl"] .sidebar { border-right: none; border-left: 1px solid var(--card-border); }
        [dir="rtl"] .nav-link { border-left: none; border-right: 3px solid transparent; padding-right: 1.5rem; padding-left: 0; }
        [dir="rtl"] .nav-item.active .nav-link { border-right-color: var(--cyan-neon); border-left: none; }
        [dir="rtl"] .dashboard-header { text-align: right; }
        [dir="rtl"] .header-profile { flex-direction: row-reverse; }
        [dir="rtl"] .notification-dropdown { right: auto; left: 2rem; }
        [dir="rtl"] .stat-card { flex-direction: row-reverse; }
        [dir="rtl"] .link-item { flex-direction: row-reverse; }
        [dir="rtl"] .login-item { flex-direction: row-reverse; }
        [dir="rtl"] .session-item { flex-direction: row-reverse; }
        [dir="rtl"] .notification-item { flex-direction: row-reverse; }
        [dir="rtl"] table { text-align: right; }
        [dir="rtl"] .detail-row { flex-direction: row-reverse; }
        [dir="rtl"] .activity-item { flex-direction: row-reverse; }
        [dir="rtl"] .profile-menu-trigger { flex-direction: row-reverse; }
    </style>
</head>
<body class="x-link-theme">
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-link"></i>
                    <span>ุงฺฉุณโููฺฉ</span>
                </div>
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active">
                        <a href="#overview" class="nav-link" data-section="overview">
                            <i class="fas fa-user"></i>
                            <span>ุจุฑุฑุณ ุงุฌูุงู</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#visit-card" class="nav-link" data-section="visit-card">
                            <i class="fas fa-id-card"></i>
                            <span>ฺฉุงุฑุช ูุฒุช</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#plan" class="nav-link" data-section="plan">
                            <i class="fas fa-crown"></i>
                            <span>ุทุฑุญ ู ุงุดุชุฑุงฺฉ</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#security" class="nav-link" data-section="security">
                            <i class="fas fa-shield-alt"></i>
                            <span>ุงููุช</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <button class="mode-toggle" id="modeToggle" title="ุชุบุฑ ุชู ุดุจ">
                    <i class="fas fa-moon"></i>
                </button>
                <a href="#" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>ุฎุฑูุฌ</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <h1>ุฎูุด ุขูุฏุฏุ <span id="userName">{{ user.first_name }}</span></h1>
                    <p id="headerDate" class="header-date"></p>
                </div>
                <div class="header-right">
                    <button class="notification-btn" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">2</span>
                    </button>
                    <div class="header-profile">
                        <img id="headerProfileImg" src="https://via.placeholder.com/40" alt="ูพุฑููุงู" class="profile-img-small">
                        <div class="profile-menu-trigger">
                            <span id="headerUsername">{{ user.username }}</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Notifications Dropdown -->
            <div class="notification-dropdown" id="notificationDropdown" style="display: none;">
                <div class="notification-header">
                    <h3>ุงุทูุงุนูโูุง</h3>
                    <button class="close-btn">ร</button>
                </div>
                <div class="notification-list">
                    {% if not user.phone %}
                    <div class="notification-item unread">
                        <i class="fas fa-info-circle"></i>
                        <div class="notification-content">
                            <p class="notification-title">ูพุฑููุงู ุฎูุฏ ุฑุง ุชฺฉูู ฺฉูุฏ</p>
                            <p class="notification-time">ฒ ุณุงุนุช ูพุด</p>
                        </div>
                    </div>
                    {% endif %}
                    <div class="notification-item unread">
                        <i class="fas fa-exclamation-circle"></i>
                        <div class="notification-content">
                            <p class="notification-title">ุทุฑุญ ุดูุง ุฏุฑ ท ุฑูุฒ ูููุถ ูโุดูุฏ</p>
                            <p class="notification-time">ฑ ุฑูุฒ ูพุด</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="content-wrapper">

                <!-- 1. OVERVIEW SECTION -->
                <section id="overview-section" class="section active">
                    <div class="section-header">
                        <h2>ูพุฑููุงู ฺฉุงุฑุจุฑ</h2>
                        <button class="btn btn-primary" id="editProfileBtn">
                            <i class="fas fa-edit"></i> ูุฑุงุด ูพุฑููุงู
                        </button>
                    </div>

                    <div class="overview-grid">
                        <!-- Profile Card -->
                        <div class="card profile-card">
                            <div class="profile-header">
                                <div class="profile-image-container">
                                    <img id="profileImg" src="{{ user_card.profile_picture.url }}" alt="ูพุฑููุงู" class="profile-img">
                                    <button class="edit-image-btn" id="editImageBtn">
                                        <i class="fas fa-camera"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="profile-info">
                                <h3 id="fullName">{{ user.full_name }}</h3>
                                <p class="username" id="username">{{ user_card.username }}@</p>
                                <div class="profile-details">
                                    <div class="detail-row">
                                        <span class="label">{{ user.email }}</span>
                                        <span class="value" id="emailDisplay">ุงูู:</span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">{{ user.phone|default:"ุชุนู ูุดุฏู" }}</span>
                                        <span class="value" id="phoneDisplay">ุดูุงุฑู ุชูุงุณ:</span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">{{ user.date_joined|date:"M d, Y" }}</span>
                                        <span class="value" id="joinedDate">ุชุงุฑุฎ ุนุถูุช:</span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">{{ user.last_login|date:"M d, Y - H:i" }}</span>
                                        <span class="value" id="lastLogin">ุขุฎุฑู ูุฑูุฏ:</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                    <i class="fas fa-id-card"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-label">ฺฉุงุฑุชโูุง ูุฒุช</p>
                                    <p class="stat-value" id="cardCount">1</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                                    <i class="fas fa-mouse"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-label">ฺฉู ฺฉูฺฉโูุง</p>
                                    <p class="stat-value" id="totalClicks">{{ user_card.views|default:"0" }}</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                                    <i class="fas fa-eye"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-label">ุจุงุฒุฏุฏ ูพุฑููุงู</p>
                                    <p class="stat-value" id="profileViews">{{ user_card.views|default:"0" }}</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <p class="stat-label">ุฒูุงู ุจุงู ูุงูุฏู ุงุดุชุฑุงฺฉ</p>
                                    <p class="stat-value" id="completion">{{ user.plan_expires }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Completion Progress -->

                </section>

                <!-- 2. VISIT CARD SECTION -->
                <section id="visit-card-section" class="section" style="display: none;">
                {% if user_card %}
                    <div class="section-header">
                        <h2>ฺฉุงุฑุชโูุง ูุฒุช ุดูุง</h2>
                        <button class="btn btn-primary" id="createCardBtn">
                            <i class="fas fa-plus"></i> ฺฉุงุฑุช ุฌุฏุฏ
                        </button>
                    </div>

                    <div class="cards-grid">
                        <!-- Primary Card -->
                        <div class="card visit-card-preview">
                            <div class="card-badge">ุงุตู</div>
                            <h3 id="cardTitle">{{ user_card.title|default:"ฺฉุงุฑุช ูุฒุช ูู" }}</h3>
                            <p class="card-link" id="cardLink">
                                <i class="fas fa-link"></i>
                                <span>x-link.ir/{{ user_card.username }}</span>
                            </p>

                <div class="qr-code-box">
                    <h3>ฺฉุฏ QR:</h3>
                    <div class="qr-code-display">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={{ card_url }}"
                             alt="QR Code" class="qr-code-image">
                    </div>
                </div>

<div class="card-actions">
    <a href="{% url 'view_card' user_card.username %}" class="btn btn-secondary btn-small">
        <i class="fas fa-eye"></i> ูุดุงูุฏู
    </a>

    <a href="{% url 'card_builder' %}" class="btn btn-secondary btn-small">
        <i class="fas fa-edit"></i> ูุฑุงุด
    </a>

    <a href="" class="btn btn-secondary btn-small">
        <i class="fas fa-download"></i> QR
    </a>
</div>

                        </div>

                        <!-- Additional Cards Info -->
                        <div class="card">
                            <h4>ุขูุงุฑ ฺฉุงุฑุช</h4>
                            <div class="stats-mini">
                                <div class="stat-mini">
                                    <span class="label">ุจุงุฒุฏุฏ</span>
                                    <span class="value">{{ user_card.views }}</span>
                                </div>
                                <div class="stat-mini">
                                    <span class="label">ฺฉูฺฉ</span>
                                    <span class="value">{{ user_card.views }}</span>
                                </div>
                                <div class="stat-mini">
                                    <span class="label">ุงุดุชุฑุงฺฉ</span>
                                    <span class="value">ุจุฒูุฏ</span>
                                </div>
                                <div class="stat-mini">
                                    <span class="label">ูุฑุฎ ฺฉูฺฉ</span>
                                    <span class="value">ุจุฒูุฏ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Card Details -->
                    <div class="card">
                        <h3>ุฌุฒุฆุงุช ฺฉุงุฑุช</h3>
                        <div class="details-grid">
                            <div class="detail-field">
                                <label>ุณุจฺฉ ฺฉุงุฑุช</label>
                                <span>{{ user_card.get_color_display }}</span>
                            </div>
                            <div class="detail-field">
                                <label>ุชุงุฑุฎ ุงุฌุงุฏ</label>
                                <span>{{ user_card.created_at|date:"M d, Y" }}</span>
                            </div>
                            <div class="detail-field">
                                <label>ุขุฎุฑู ุชุบุฑ</label>
                                <span>{{ user_card.updated_at|date:"M d, Y - H:i" }}</span>
                            </div>
                            <div class="detail-field">
                                <label>ูุถุนุช</label>
                                {% if user_card.is_published %}
                                <span class="badge badge-success">ูุนุงู</span>
                                {% else %}
<span class="badge badge-danger">ุบุฑูุนุงู</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                                    {% else %}
    <div class="empty-card">
        <i class="fas fa-id-card empty-icon"></i>
        <h2>ูููุฒ ฺฉุงุฑุช ูุฒุช ูุฏุงุฑ ๐</h2>
        <p>
            ุจุง ุณุงุฎุช ฺฉุงุฑุช ูุฒุช ุฏุฌุชุงูุ ููฺฉ ุงุฎุชุตุงุตุ QR ฺฉุฏ ู ูพุฑููุงู ุญุฑููโุง ุฏุงุดุชู ุจุงุด
        </p>
        <a href="{% url 'card_builder' %}" class="btn btn-primary btn-lg">
            ๐ ููู ุงูุงู ฺฉุงุฑุช ูุฒุช ุฎูุฏุชู ุจุณุงุฒ
        </a>
    </div>
{% endif %}
                </section>

                <!-- 3. PLAN & SUBSCRIPTION SECTION -->
                <section id="plan-section" class="section" style="display: none;">
                    <div class="section-header">
                        <h2>ุทุฑุญ ู ุงุดุชุฑุงฺฉ</h2>
                    </div>

                    <!-- Current Plan Card -->
                    <div class="plan-cards">
                        {% if user.plan == 'basic' %}
                        <div class="card plan-card active-plan">
                            <div class="plan-badge">ูพุงู</div>
                            <h3>ูพูู ูพุงู</h3>
                            <p class="plan-price">
                               <span id="planPrice">35,000</span>
                                <span class="period">/ูุงูุงูู</span>
                            </p>

                            <div class="plan-features">
                                <h4>ูฺฺฏโูุง ุดุงูู:</h4>
                                <ul>
                                    <li><i class="fas fa-check"></i> ุจุฑูุฏุณุงุฒ ูพุดุฑูุชู</li>
                                    <li><i class="fas fa-check"></i>ุฏุณุชุฑุณ ุจู ูุงูุจ ู ุชู ูุง ูพุงู</li>
                                    <li><i class="fas fa-check"></i>ุขูพุชุงู 99.9%</li>
                                </ul>
                            </div>

                            <div class="plan-expiry">
                                <p class="expiry-label">ุงููุถุง ุฏุฑ:</p>
                                <p class="expiry-date" id="expiryDate">{{ user.plan_expires }}</p>
                            </div>

                        </div>
                        {% elif user.plan == "pro" %}
                        <div class="card plan-card active-plan">
                            <div class="plan-badge">ูพุฑููู</div>
                            <h3>ูพูู ูพุฑููู</h3>
                            <p class="plan-price">
                               <span id="planPrice">55,000</span>
                                <span class="period">/ูุงูุงูู</span>
                            </p>

                            <div class="plan-features">
                                <h4>ูฺฺฏโูุง ุดุงูู:</h4>
                                <ul>
                                    <li><i class="fas fa-check"></i> ุจุฑูุฏุณุงุฒ ูพุดุฑูุชู</li>
                                    <li><i class="fas fa-check"></i>ุฏุณุชุฑุณ ุจู ููู ูุงูุจ ู ุชู ูุง</li>
                                    <li><i class="fas fa-check"></i>ุชฺฉ ุขุจ</li>
                                    <li><i class="fas fa-check"></i>ุชููพูุช ูุดฺฉ</li>
                                    <li><i class="fas fa-check"></i>ุจฺฉ ฺฏุฑุงูุฏ ุณุชุงุฑู ุง</li>
                                    <li><i class="fas fa-check"></i>ุณุฑุนุช ููุฏ ุจุดุชุฑ</li>
                                    <li><i class="fas fa-check"></i>ุขูพุชุงู 99.9%</li>
                                </ul>
                            </div>

                            <div class="plan-expiry">
                                <p class="expiry-label">ุงููุถุง ุฏุฑ:</p>
                                <p class="expiry-date" id="expiryDate">{{ user.plan_expires }}</p>
                            </div>

                        </div>
                        {% else %}
                        <div class="card plan-card active-plan">
                            <div class="plan-badge">ุฑุงฺฏุงู</div>
                            <h3>ูพูู ุฑุงฺฏุงู</h3>
                            <p class="plan-price">
                               <span id="planPrice">0</span>
                                <span class="period">/ูุงูุงูู</span>
                            </p>

                            <div class="plan-features">
                                <h4>ูฺฺฏโูุง ุดุงูู:</h4>
                                <ul>
                                    <li><i class="fas fa-check"></i> ุจุฑูุฏุณุงุฒ ูพุดุฑูุชู</li>
                                    <li><i class="fas fa-check"></i>ุฏุณุชุฑุณ ุจู ูุงูุจ ูพุดูุฑุถ ุงฺฉุณ ููฺฉ</li>
                                    <li><i class="fas fa-check"></i>ุขูพุชุงู 99.9%</li>
                                </ul>
                            </div>

                            <div class="plan-expiry">
                                <p class="expiry-label">ุงููุถุง ุฏุฑ:</p>
                                <p class="expiry-date" id="expiryDate">{{ user.plan_expires }}</p>
                            </div>

                        </div>
                        {% endif %}
                        <!-- Usage Stats -->
                        <div class="card">
                            <h3>ุงุณุชูุงุฏู ู ูุญุฏูุฏุชโูุง</h3>
                            <div class="usage-item">
                                <div class="usage-header">
                                    <span class="label">ฺฉุงุฑุชโูุง ูุฒุช ุงุฌุงุฏโุดุฏู</span>
                                    <span class="value"><span id="cardsUsed">{{ user_cards.count|default:"3" }}</span> / <span id="cardsMax">{{ user_plan.max_cards|default:"5" }}</span></span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%"></div>
                                </div>
                            </div>

                            <div class="usage-item">
                                <div class="usage-header">
                                    <span class="label">ุงุนุถุง ุชู</span>
                                    <span class="value"><span id="teamUsed">1</span> / <span id="teamMax">3</span></span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 33.33%"></div>
                                </div>
                            </div>

                            <div class="usage-item">
                                <div class="usage-header">
                                    <span class="label">ูุถุง ุงุณุชูุงุฏูโุดุฏู</span>
                                    <span class="value"><span id="storageUsed">245</span>MB / <span id="storageMax">1000</span>MB</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 24.5%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Plan Comparison -->
                    <div class="card">
                        <h3>ููุงุณู ุทุฑุญโูุง</h3>
                        <table class="plan-comparison">
                            <thead>
                                <tr>
                                    <th>ูฺฺฏ</th>
                                    <th>ุฑุงฺฏุงู</th>
                                    <th>ูพุงู</th>
                                    <th>ูพุฑู</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ูุงูุจ ู ุชู ูุง</td>
                                    <td>ูพุดูุฑุถ ุงฺฉุณ ููฺฉ</td>
                                    <td>ููู ุชููพูุช ูุง</td>
                                    <td>ููู ุชูููพุช ูุง + ูุดฺฉ</td>
                                </tr>
                                <tr>
                                    <td>ุจุฎุด ูุฑูุดฺฏุงู</td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-check"></i></td>
                                    <td><i class="fas fa-check"></i></td>
                                </tr>
                                <tr>
                                    <td>ุชฺฉ ุขุจ</td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-check"></i></td>
                                </tr>
                                <tr>
                                    <td>ุจฺฉ ฺฏุฑุงูุฏ ุณุชุงุฑู ุง(ุฏูุจุงูู ุฏุงุฑ)</td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-check"></i></td>
                                </tr>
                                <tr>
                                    <td>ุขูพุชุงู</td>
                                    <td>99.9%</td>
                                    <td>99.9%</td>
                                    <td>99.9%</td>
                                </tr>
                                <tr>
                                    <td>ูพุดุชุจุงู ุงูููุช</td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-times"></i></td>
                                    <td><i class="fas fa-check"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Upgrade Button -->
                    <div class="upgrade-section">
                        <h3>ุขุง ูโุฎูุงูุฏ ุงุฑุชูุงุก ุฏูุฏุ</h3>
                        <p>ุจุง ุทุฑุญโูุง ูพุฑููู ูุง ูฺฺฏโูุง ุจุดุชุฑ ู ุงูฺฉุงูุงุช ูุงูุญุฏูุฏ ุฏุฑุงูุช ฺฉูุฏ</p>
                        <button class="btn btn-primary btn-large">
                            <i class="fas fa-crown"></i> ุงุฑุชูุงุก ุจู VIP
                        </button>
                    </div>
                </section>



                <!-- 6. SECURITY SECTION -->
                <section id="security-section" class="section" style="display: none;">
                    <div class="section-header">
                        <h2>ุงููุช ู ุญุฑูโุฎุตูุต</h2>
                    </div>

                    <!-- Password -->
                    <div class="card">
                        <h3>ุฑูุฒุนุจูุฑ</h3>
                        <div class="security-item">
                            <div class="security-info">
                                <p class="security-label">ุชุบุฑ ุฑูุฒุนุจูุฑ</p>
                                <p class="security-desc">ุจุฑุง ุงููุช ุญุณุงุจุ ุจูโุทูุฑ ููุธู ุฑูุฒุนุจูุฑ ุฎูุฏ ุฑุง ุชุบุฑ ุฏูุฏ</p>
                            </div>
                            <button class="btn btn-secondary" id="changePasswordBtn">
                                <i class="fas fa-key"></i> ุชุบุฑ ุฑูุฒุนุจูุฑ
                            </button>
                        </div>
                    </div>

                    <!-- Two-Factor Authentication -->
                    <div class="card">
                        <h3>ุงุญุฑุงุฒ ููุช ุฏูโูุฑุญููโุง</h3>
                        <div class="security-item">
                            <div class="security-info">
                                <p class="security-label">ุงุญุฑุงุฒ ููุช ุฏูโูุฑุญููโุง (2FA)</p>
                                <p class="security-desc">ูุงู ุงููุช ุงุถุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุจุฑูุงูู ุงุญุฑุงุฒโฺฉููุฏู ุงุถุงูู ฺฉูุฏ</p>
                                <p class="security-status" id="2faStatus">ูุถุนุช: <span class="badge badge-danger">ุบุฑูุนุงู</span></p>
                            </div>
                            <button class="btn btn-secondary" id="enable2FABtn">
                                <i class="fas fa-shield-alt"></i> ูุนุงูโุณุงุฒ
                            </button>
                        </div>
                    </div>

                    <!-- Login Activity -->
                    <div class="card">
                        <h3>ูุนุงูุช ูุฑูุฏ ุงุฎุฑ</h3>
                        <div class="login-activity">
                            <div class="login-item">
                                <div class="login-info">
                                    <p class="login-device">
                                        <i class="fas fa-desktop"></i> ุฑุงุงูู ุดุฎุต - Chrome
                                    </p>
                                    <p class="login-location">ูููุฑฺฉุ ุขูุฑฺฉุง (192.168.1.1)</p>
                                    <p class="login-time">ุงูุฑูุฒ ฒ:ณฐ ุจุนุฏุงุฒุธูุฑ</p>
                                </div>
                                <span class="badge badge-success">ูุนู</span>
                            </div>

                            <div class="login-item">
                                <div class="login-info">
                                    <p class="login-device">
                                        <i class="fas fa-mobile-alt"></i> iPhone - Safari
                                    </p>
                                    <p class="login-location">ูููุฑฺฉุ ุขูุฑฺฉุง (192.168.1.100)</p>
                                    <p class="login-time">ุฏุฑูุฒ ธ:ฑต ูุจูโุงุฒุธูุฑ</p>
                                </div>
                            </div>

                            <div class="login-item">
                                <div class="login-info">
                                    <p class="login-device">
                                        <i class="fas fa-desktop"></i> MacBook Pro - Safari
                                    </p>
                                    <p class="login-location">ุณุงูโูุฑุงูุณุณฺฉูุ ุขูุฑฺฉุง (203.0.113.56)</p>
                                    <p class="login-time">ณ ุฑูุฒ ูพุด ต:ดต ุจุนุฏุงุฒุธูุฑ</p>
                                </div>
                            </div>

                            <div class="login-item">
                                <div class="login-info">
                                    <p class="login-device">
                                        <i class="fas fa-desktop"></i> ุฑุงุงูู ุดุฎุต - Firefox
                                    </p>
                                    <p class="login-location">ููุฏูุ ุงูฺฏูุณุชุงู (198.51.100.45)</p>
                                    <p class="login-time">ฑ ููุชู ูพุด ฑฑ:ฒฐ ูุจูโุงุฒุธูุฑ</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Session Management -->
                    <div class="card">
                        <h3>ุฌูุณูโูุง ูุนุงู</h3>
                        <p style="margin-bottom: 1.5rem;">ุฌูุณูโูุง ูุนุงู ุฎูุฏ ุฑุง ูุฏุฑุช ฺฉูุฏ ู ุงุฒ ุฏุณุชฺฏุงูโูุง ุฏฺฏุฑ ุฎุงุฑุฌ ุดูุฏ</p>
                        <div class="sessions-list">
                            <div class="session-item">
                                <div class="session-info">
                                    <p class="session-device">ุฌูุณู ูุนู</p>
                                    <p class="session-details">ุฑุงุงูู ุดุฎุต - Chrome - 192.168.1.1</p>
                                </div>
                                <span class="badge badge-success">ูุนุงู ุงูุขู</span>
                            </div>

                            <div class="session-item">
                                <div class="session-info">
                                    <p class="session-device">iPhone Safari</p>
                                    <p class="session-details">ุขุฎุฑู ูุนุงูุช: ุฏุฑูุฒ ธ:ฑต ูุจูโุงุฒุธูุฑ</p>
                                </div>
                                <button class="btn btn-danger btn-small">ุฎุฑูุฌ</button>
                            </div>

                            <div class="session-item">
                                <div class="session-info">
                                    <p class="session-device">MacBook Pro</p>
                                    <p class="session-details">ุขุฎุฑู ูุนุงูุช: ณ ุฑูุฒ ูพุด</p>
                                </div>
                                <button class="btn btn-danger btn-small">ุฎุฑูุฌ</button>
                            </div>
                        </div>
                        <button class="btn btn-danger btn-block" style="margin-top: 1rem;">
                            <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ ุงุฒ ุชูุงู ุณุงุฑ ุฌูุณูโูุง
                        </button>
                    </div>

                    <!-- Privacy Settings -->
                    <div class="card">
                        <h3>ุชูุธูุงุช ุญุฑูโุฎุตูุต</h3>
                        <form class="settings-form">
                            <div class="form-group checkbox">
                                <input type="checkbox" id="profileVisibility" checked>
                                <label for="profileVisibility">ูพุฑููุงู ูู ุฑุง ุนููู ฺฉูุฏ</label>
                            </div>

                            <div class="form-group checkbox">
                                <input type="checkbox" id="analyticsVisibility" checked>
                                <label for="analyticsVisibility">ููุงุด ุชุญููุงุช ุจูโุตูุฑุช ุนููู</label>
                            </div>

                            <div class="form-group checkbox">
                                <input type="checkbox" id="searchIndexing">
                                <label for="searchIndexing">ุงุฌุงุฒู ููุชูุฑูุง ุฌุณุชุฌู ุจุฑุง ููุงูโุณุงุฒ ูพุฑููุงู</label>
                            </div>

                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> ุฐุฎุฑู ุชูุธูุงุช ุญุฑูโุฎุตูุต
                            </button>
                        </form>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Modal for Edit Profile -->
    <div class="modal" id="editProfileModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ูุฑุงุด ูพุฑููุงู</h2>
                <button class="close-btn" id="closeProfileModal">ร</button>
            </div>
            <div class="modal-body">
                <form id="editProfileForm" class="settings-form">
                    <div class="form-group">
                        <label for="modalFirstName">ูุงู</label>
                        <input type="text" id="modalFirstName" placeholder="ูุงู">
                    </div>
                    <div class="form-group">
                        <label for="modalLastName">ูุงูโุฎุงููุงุฏฺฏ</label>
                        <input type="text" id="modalLastName" placeholder="ูุงูโุฎุงููุงุฏฺฏ">
                    </div>
                    <div class="form-group">
                        <label for="modalPhone">ุดูุงุฑู ุชูุงุณ</label>
                        <input type="tel" id="modalPhone" placeholder="ุดูุงุฑู ุชูุงุณ">
                    </div>
                    <div class="form-group">
                        <label for="modalBio">ุฏุฑุจุงุฑู ูู</label>
                        <textarea id="modalBio" rows="4" placeholder="ุฏุฑุจุงุฑู ุฎูุฏุชุงู ุจฺฏูุฏ"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelProfileBtn">ูุบู</button>
                <button class="btn btn-primary">ุฐุฎุฑู ุชุบุฑุงุช</button>
            </div>
        </div>
    </div>

    <!-- Modal for Change Password -->
    <div class="modal" id="changePasswordModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ุชุบุฑ ุฑูุฒุนุจูุฑ</h2>
                <button class="close-btn">ร</button>
            </div>
            <div class="modal-body">
                <form class="settings-form">
                    <div class="form-group">
                        <label for="currentPassword">ุฑูุฒุนุจูุฑ ูุนู</label>
                        <input type="password" id="currentPassword" placeholder="ุฑูุฒุนุจูุฑ ูุนู ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">ุฑูุฒุนุจูุฑ ุฌุฏุฏ</label>
                        <input type="password" id="newPassword" placeholder="ุฑูุฒุนุจูุฑ ุฌุฏุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">ุชุฃุฏ ุฑูุฒุนุจูุฑ</label>
                        <input type="password" id="confirmPassword" placeholder="ุฑูุฒุนุจูุฑ ุฌุฏุฏ ุฑุง ุชุฃุฏ ฺฉูุฏ">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary">ูุบู</button>
                <button class="btn btn-primary">ุจุฑูุฒุฑุณุงู ุฑูุฒุนุจูุฑ</button>
            </div>
        </div>
    </div>
<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        alert('ููฺฉ ฺฉูพ ุดุฏ!');
    });
}

function downloadQRCode() {
    const link = document.createElement('a');
    const cardUrl = document.getElementById('cardUrl').value;
    link.href = `https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=${cardUrl}`;
    link.download = 'card-qr-code.png';
    link.click();
}

function shareOnTelegram(url) {
    window.open(`https://t.me/share/url?url=${encodeURIComponent(url)}`, '_blank');
}

function shareOnWhatsApp(url) {
    window.open(`https://wa.me/?text=${encodeURIComponent(url)}`, '_blank');
}

function shareOnTwitter(url) {
    window.open(`https://x.com/intent/post?url=${encodeURIComponent(url)}`, '_blank');
}

function shareViaEmail(url) {
    window.location.href = `mailto:?subject=ฺฉุงุฑุช ุฏุฌุชุงู ูู&body=${encodeURIComponent(url)}`;
}
</script>

    <!-- Script -->
    <script src="{% static 'dashboard.js' %}"></script>
</body>
</html>