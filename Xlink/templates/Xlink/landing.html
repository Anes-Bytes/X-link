{% extends '_base.html' %}
{% load humanize %}
{% block page_title %} X-Link - Digital Business Card Platform {% endblock %}

{% block page_content %}


    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
        </div>

        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <span class="logo-text">{{ site_context.site_name }}</span>
                </div>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#home" class="nav-link">خانه</a></li>
                    <li><a href="#features" class="nav-link">قابلیت ها</a></li>
                    <li><a href="#templates" class="nav-link">قالب ها</a></li>
                    <li><a href="#about" class="nav-link">درباره ایکس لینک</a></li>
                    <li><a href="#" class="nav-link nav-btn">ورود/ثبت نام</a></li>
                    <li><a href="#" class="nav-link nav-btn-primary">پنل کاربری</a></li>
                </ul>
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>

        <!-- Hero Content -->
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="title-line">{{ site_context.hero_section_text_part1 }}</span>
                    <span class="title-line">{{ hero_section_text_part2 }}</span>
                </h1>
                <p class="hero-description">
                    {{ site_context.hero_section_text_description }}
                </p>
                <a href="{% url 'core:card_builder' %}" class="cta-button">
                    <span>رایگان شروع کنید</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>

        <!-- Hero Slider -->
        <div class="hero-slider">
            <div class="slider-container" id="heroSlider">
                <div class="slide active">
                    <div class="slide-content">
                        <h3>Smart & Stylish</h3>
                        <p>Create professional digital cards in minutes</p>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <h3>Instantly Shareable</h3>
                        <p>Share your card with a single link or QR code</p>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <h3>Beautifully Designed</h3>
                        <p>Choose from stunning, customizable templates</p>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <h3>Built for the Future</h3>
                        <p>Advanced analytics and tracking capabilities</p>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <h3>Always Accessible</h3>
                        <p>Your digital card works on any device, anywhere</p>
                    </div>
                </div>
            </div>
            <div class="slider-dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
                <span class="dot" data-slide="3"></span>
                <span class="dot" data-slide="4"></span>
            </div>
        </div>
    </section>

    <!-- Brand Slider Section -->
    <section class="brand-slider-section">
        <div class="brand-slider-container">
            <div class="brand-slider-track" id="brandSlider">
                {% for customer in customers %}
                <div class="brand-item">
                    {% if customer.company_logo %}
                    <div class="brand-logo">
                        <img src="{{ customer.company_logo.url }}" alt="{{ customer.company_name }}" title="{{ customer.company_name }}">
                    </div>
                    {% else %}
                    <div class="brand-logo">{{ customer.company_name }}</div>
                    {% endif %}
                </div>
                {% endfor %}
                <!-- Duplicate for continuous scroll -->
                {% for customer in customers %}
                <div class="brand-item">
                    {% if customer.company_logo %}
                    <div class="brand-logo">
                        <img src="{{ customer.company_logo.url }}" alt="{{ customer.company_name }}" title="{{ customer.company_name }}">
                    </div>
                    {% else %}
                    <div class="brand-logo">{{ customer.company_name }}</div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Templates Preview Section -->
    <section class="templates-section" id="templates">
        <div class="container">
            <h2 class="section-title">قالب های تک و جذاب ایکس لینک</h2>
            
            <!-- Template Carousel -->
            <div class="templates-carousel">
                <button class="carousel-button prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for template in templates %}
                        <div class="template-slide {% if forloop.first %}center{% endif %}" data-template-id="{{ template.template_id }}">
                            <div class="template-preview">
                                <img src="{{ template.preview_image.url }}" alt="{{ template.name }}" class="template-image">

                                <h4 class="template-title">{{ template.name }}</h4>
                                <button class="template-select-btn" onclick="selectTemplate({{ template.template_id }}, '{{ template.name }}')">
                                    انتخاب
                                </button>
                            </div>
                        </div>
                        {% empty %}
                        <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                            <p>قالبی موجود نیست</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <button class="carousel-button next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <h2 class="section-title">پلن های قیمت ایکس لینک</h2>
            <div class="pricing-grid">
                {% for plan in plans %}
                <div class="pricing-card {% if plan.is_special %}featured{% endif %}" data-aos="fade-up" {% if plan.is_special %}data-aos-delay="100"{% endif %}>
                    {% if plan.is_special %}
                    <div class="popular-badge">پرفروش ترین</div>
                    {% endif %}
                    <div class="pricing-header">
                        <h3 class="plan-name">{{ plan.name }}</h3>
                        <div class="plan-price">
                            <span class="currency">تومان</span>
                            <span class="amount">{{ plan.get_final_price|floatformat|intcomma }}</span>
                            <span class="period">/ماه</span>
                        </div>
                    </div>
                    <ul class="plan-features">
                        {% for feature in plan.Features.all %}
                        <li><i class="fas fa-check"></i>{{ feature.name }}</li>
                        {% endfor %}
                    </ul>
                    <button class="plan-button">Get Started</button>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>


{% endblock %}